(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[3],{46:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,c=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(i){c=!0,o=i}finally{try{r||null==s.return||s.return()}finally{if(c)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return c}))},49:function(t,e,n){t.exports={item:"CommentItem_item__2_Q83"}},50:function(t,e,n){t.exports={comments:"CommentsList_comments__1e0Sp"}},51:function(t,e,n){t.exports={comments:"Comments_comments__3hNOe"}},52:function(t,e,n){t.exports={form:"NewCommentForm_form__66HJH",loading:"NewCommentForm_loading__3nI-d",control:"NewCommentForm_control__AKhKE",actions:"NewCommentForm_actions__13Q_7"}},53:function(t,e,n){t.exports={quote:"HighlightedQuote_quote__B-rwk"}},55:function(t,e,n){"use strict";n.r(e);var r=n(3),c=n(8),o=n.n(c),a=n(12),s=n(46),i=n(0),u=n(49),m=n.n(u),l=n(1),b=function(t){return Object(l.jsx)("li",{className:m.a.item,children:Object(l.jsx)("p",{children:t.text})})},j=n(50),f=n.n(j),d=function(t){return Object(l.jsx)("ul",{className:f.a.comments,children:t.comments.map((function(t){return Object(l.jsx)(b,{text:t.text},t.id)}))})},h=n(51),p=n.n(h),x=n(52),O=n.n(x),v=function(t){var e=Object(i.useRef)(),n=function(n){n.preventDefault();var r=e.current.value;t.onAddingComment({text:r})};return Object(l.jsxs)("form",{className:O.a.form,onSubmit:n,children:[Object(l.jsxs)("div",{className:O.a.control,onSubmit:n,children:[Object(l.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(l.jsx)("textarea",{id:"comment",rows:"5",ref:e})]}),Object(l.jsx)("div",{className:O.a.actions,children:Object(l.jsx)("button",{className:"btn",children:"Add Comment"})})]})},w=function(t){var e=Object(i.useState)(!1),n=Object(s.a)(e,2),r=n[0],c=n[1],u=Object(i.useState)([]),m=Object(s.a)(u,2),b=m[0],j=m[1],f=Object(i.useCallback)(Object(a.a)(o.a.mark((function e(){var n,r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://webapp-e180b-default-rtdb.firebaseio.com/comments/".concat(t.path,".json"));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Something went wrong");case 6:return e.next=8,n.json();case 8:for(a in r=e.sent,c=[],r)c.push({id:a,text:r[a].text});j(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),[t.path]);return Object(i.useEffect)((function(){f()}),[f]),Object(l.jsxs)("section",{className:p.a.comments,children:[Object(l.jsx)("h2",{children:"User Comments"}),!r&&Object(l.jsx)("button",{className:"btn",onClick:function(){c((function(t){return!t}))},children:"Add a Comment"}),r&&Object(l.jsx)(v,{onAddingComment:function(e){var n=function(){var n=Object(a.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://webapp-e180b-default-rtdb.firebaseio.com/comments/".concat(t.path,".json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();try{n()}catch(r){throw new Error("Something went wrong!")}}}),Object(l.jsx)("p",{children:"Comments..."}),Object(l.jsx)(d,{comments:b})]})},_=n(53),g=n.n(_),y=function(t){return Object(l.jsxs)("figure",{className:g.a.quote,children:[Object(l.jsx)("p",{children:t.text}),Object(l.jsx)("figcaption",{children:t.author})]})},C=n(9),N=n(13),S=n(16);e.default=function(){var t,e=Object(r.j)(),n=Object(r.i)(),c=Object(N.c)((function(t){return t.quoteReducer.singleQuote})),o=Object(N.b)();return n.pathname==="/quotes/"+e.id&&(t=!0),Object(i.useEffect)((function(){o(Object(S.b)(e.id))}),[o,e.id]),Object(l.jsxs)("div",{children:[Object(l.jsx)(y,{author:c.author,text:c.text}),Object(l.jsx)("div",{className:"centered",children:t&&Object(l.jsx)(C.b,{className:"btn--flat",to:"/quotes/".concat(e.id,"/comments"),children:"Load Comments"})}),Object(l.jsx)(r.c,{path:"/quotes/".concat(e.id,"/comments"),children:Object(l.jsx)(w,{path:e.id})})]})}}}]);
//# sourceMappingURL=3.d232f9e4.chunk.js.map