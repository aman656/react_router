{"ast":null,"code":"import { createSlice, configureStore } from '@reduxjs/toolkit';\nconst quoteSlice = createSlice({\n  name: \"quotes\",\n  initialState: {\n    quotesList: [],\n    singleQuote: {}\n  },\n  reducers: {\n    replaceList(state, action) {\n      state.quotesList = action.payload.list;\n    },\n\n    onlyquote(state, action) {\n      state.singleQuote = action.payload;\n    }\n\n  }\n});\nconst store = configureStore({\n  reducer: {\n    quoteReducer: quoteSlice.reducer\n  }\n});\nexport const fetchingfromDataBase = () => {\n  return async dispatch => {\n    const fetchingData = async () => {\n      const response = await fetch(\"https://webapp-e180b-default-rtdb.firebaseio.com/quotes.json\");\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n      return data;\n    };\n\n    try {\n      const cartData = await fetchingData();\n      const list = [];\n\n      for (const key in cartData) {\n        list.push({\n          id: key,\n          author: cartData[key].author,\n          text: cartData[key].text\n        });\n      }\n\n      dispatch(quotesActions.replaceList({\n        list: list || []\n      }));\n    } catch (error) {\n      console.log(error); // dispatch(cartActions.showRequestStatus({\n      //     status:'success',\n      //     message:\"Data fetched \",\n      //     title:\"Successfully fetch the data\"\n    }\n  };\n};\nexport const fetchingSingleQuote = id => {\n  return async dispatch => {\n    const singleQuote = async () => {\n      const response = await fetch(`https://webapp-e180b-default-rtdb.firebaseio.com/quotes/${id}.json`);\n\n      if (!response.ok) {\n        throw new Error(\"Something went wrong!\");\n      }\n\n      const data = await response.json();\n      console.log(data);\n      return data;\n    };\n\n    try {\n      const dataget = await singleQuote();\n      quotesActions.onlyquote(dataget);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\nexport const quotesActions = quoteSlice.actions;\nexport default store;","map":{"version":3,"sources":["C:/Users/amans/OneDrive/Desktop/react_router/routing-in-react/src/components/pages/store/index.js"],"names":["createSlice","configureStore","quoteSlice","name","initialState","quotesList","singleQuote","reducers","replaceList","state","action","payload","list","onlyquote","store","reducer","quoteReducer","fetchingfromDataBase","dispatch","fetchingData","response","fetch","ok","Error","data","json","console","log","cartData","key","push","id","author","text","quotesActions","error","fetchingSingleQuote","dataget","err","actions"],"mappings":"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","sourcesContent":["import {createSlice,configureStore} from '@reduxjs/toolkit'\r\n\r\n\r\nconst quoteSlice = createSlice({\r\n    name:\"quotes\",\r\n    initialState:{quotesList:[],singleQuote:{}},\r\n    reducers:{\r\n        replaceList(state,action){\r\n            state.quotesList = action.payload.list\r\n        },\r\n        onlyquote(state,action){\r\n            state.singleQuote = action.payload\r\n        }\r\n    }\r\n})\r\n\r\nconst store = configureStore({\r\n    reducer:{quoteReducer:quoteSlice.reducer}\r\n})\r\n\r\nexport const fetchingfromDataBase = ()=>{\r\n    return async (dispatch)=>{\r\n        const fetchingData  = async()=>{\r\n            const response = await fetch(\"https://webapp-e180b-default-rtdb.firebaseio.com/quotes.json\")\r\n            if(!response.ok){\r\n                throw new Error (\"Something went wrong!\")\r\n            }\r\n            const data = await response.json()\r\n            console.log(data)\r\n            return data;\r\n\r\n        }\r\n        try{\r\n            const cartData = await fetchingData()\r\n            const list = [];\r\n            for (const key in cartData){\r\n                list.push({\r\n                    id:key,\r\n                    author:cartData[key].author,\r\n                    text:cartData[key].text\r\n           })\r\n\r\n            }\r\n            dispatch(quotesActions.replaceList({\r\n                list:list || [],\r\n\r\n            }))\r\n            \r\n\r\n        }catch(error){\r\n            console.log(error)\r\n            // dispatch(cartActions.showRequestStatus({\r\n            //     status:'success',\r\n            //     message:\"Data fetched \",\r\n            //     title:\"Successfully fetch the data\"\r\n            }\r\n        }\r\n\r\n    }\r\nexport const fetchingSingleQuote =(id)=>{\r\n    return async(dispatch)=>{\r\n        const singleQuote = async()=>{\r\n            const response = await fetch(`https://webapp-e180b-default-rtdb.firebaseio.com/quotes/${id}.json`)\r\n            if(!response.ok){\r\n                throw new Error (\"Something went wrong!\")\r\n            }\r\n            const data = await response.json()\r\n            console.log(data)\r\n            return data;\r\n\r\n        }\r\n        try{\r\n            const dataget = await singleQuote()\r\n            quotesActions.onlyquote(dataget)\r\n\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const quotesActions = quoteSlice.actions\r\n\r\nexport default store\r\n"]},"metadata":{},"sourceType":"module"}