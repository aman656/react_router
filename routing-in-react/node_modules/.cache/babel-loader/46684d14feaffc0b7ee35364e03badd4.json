{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/amans/OneDrive/Desktop/react_router/routing-in-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/amans/OneDrive/Desktop/react_router/routing-in-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/amans/OneDrive/Desktop/react_router/routing-in-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{createSlice,configureStore}from'@reduxjs/toolkit';var quoteSlice=createSlice({name:\"quotes\",initialState:{quotesList:[],singleQuote:{}},reducers:{replaceList:function replaceList(state,action){state.quotesList=action.payload.list;},onlyquote:function onlyquote(state,action){state.singleQuote=_objectSpread(_objectSpread({},state.singleQuote),{},{id:action.payload.id,text:action.payload.text,author:action.payload.author});}}});var store=configureStore({reducer:{quoteReducer:quoteSlice.reducer}});export var fetchingfromDataBase=function fetchingfromDataBase(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var fetchingData,cartData,list,key;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetchingData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://webapp-e180b-default-rtdb.firebaseio.com/quotes.json\");case 2:response=_context.sent;if(response.ok){_context.next=5;break;}throw new Error(\"Something went wrong!\");case 5:_context.next=7;return response.json();case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchingData(){return _ref2.apply(this,arguments);};}();_context2.prev=1;_context2.next=4;return fetchingData();case 4:cartData=_context2.sent;list=[];for(key in cartData){list.push({id:key,author:cartData[key].author,text:cartData[key].text});}dispatch(quotesActions.replaceList({list:list||[]}));_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);// dispatch(cartActions.showRequestStatus({\n//     status:'success',\n//     message:\"Data fetched \",\n//     title:\"Successfully fetch the data\"\ncase 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var fetchingSingleQuote=function fetchingSingleQuote(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var singleQuote,dataget;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:singleQuote=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://webapp-e180b-default-rtdb.firebaseio.com/quotes/\".concat(id,\".json\"));case 2:response=_context3.sent;if(response.ok){_context3.next=5;break;}throw new Error(\"Something went wrong!\");case 5:_context3.next=7;return response.json();case 7:data=_context3.sent;return _context3.abrupt(\"return\",data);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function singleQuote(){return _ref4.apply(this,arguments);};}();_context4.prev=1;_context4.next=4;return singleQuote();case 4:dataget=_context4.sent;dispatch(quotesActions.onlyquote({id:id,text:dataget.text,author:dataget.author}));_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function(_x2){return _ref3.apply(this,arguments);};}();};export var quotesActions=quoteSlice.actions;export default store;","map":{"version":3,"sources":["C:/Users/amans/OneDrive/Desktop/react_router/routing-in-react/src/components/pages/store/index.js"],"names":["createSlice","configureStore","quoteSlice","name","initialState","quotesList","singleQuote","reducers","replaceList","state","action","payload","list","onlyquote","id","text","author","store","reducer","quoteReducer","fetchingfromDataBase","dispatch","fetchingData","fetch","response","ok","Error","json","data","cartData","key","push","quotesActions","console","log","fetchingSingleQuote","dataget","actions"],"mappings":"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","sourcesContent":["import {createSlice,configureStore} from '@reduxjs/toolkit'\r\n\r\n\r\nconst quoteSlice = createSlice({\r\n    name:\"quotes\",\r\n    initialState:{quotesList:[],singleQuote:{}},\r\n    reducers:{\r\n        replaceList(state,action){\r\n            state.quotesList = action.payload.list\r\n        },\r\n        onlyquote(state,action){\r\n            state.singleQuote ={...state.singleQuote,\r\n                id:action.payload.id,\r\n                text:action.payload.text,\r\n                author:action.payload.author\r\n\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\nconst store = configureStore({\r\n    reducer:{quoteReducer:quoteSlice.reducer}\r\n})\r\n\r\nexport const fetchingfromDataBase = ()=>{\r\n    return async (dispatch)=>{\r\n        const fetchingData  = async()=>{\r\n            const response = await fetch(\"https://webapp-e180b-default-rtdb.firebaseio.com/quotes.json\")\r\n            if(!response.ok){\r\n                throw new Error (\"Something went wrong!\")\r\n            }\r\n            const data = await response.json()\r\n        \r\n            return data;\r\n\r\n        }\r\n        try{\r\n            const cartData = await fetchingData()\r\n            const list = [];\r\n            for (const key in cartData){\r\n                list.push({\r\n                    id:key,\r\n                    author:cartData[key].author,\r\n                    text:cartData[key].text\r\n           })\r\n\r\n            }\r\n            dispatch(quotesActions.replaceList({\r\n                list:list || [],\r\n\r\n            }))\r\n            \r\n\r\n        }catch(error){\r\n            console.log(error)\r\n            // dispatch(cartActions.showRequestStatus({\r\n            //     status:'success',\r\n            //     message:\"Data fetched \",\r\n            //     title:\"Successfully fetch the data\"\r\n            }\r\n        }\r\n\r\n    }\r\nexport const fetchingSingleQuote =(id)=>{\r\n    return async(dispatch)=>{\r\n        const singleQuote = async()=>{\r\n            const response = await fetch(`https://webapp-e180b-default-rtdb.firebaseio.com/quotes/${id}.json`)\r\n            if(!response.ok){\r\n                throw new Error (\"Something went wrong!\")\r\n            }\r\n            const data = await response.json()\r\n            return data;\r\n\r\n        }\r\n        try{\r\n            const dataget = await singleQuote()\r\n            dispatch(quotesActions.onlyquote({\r\n                id:id,\r\n                text:dataget.text,\r\n                author:dataget.author\r\n            }))\r\n\r\n        }catch(err){\r\n            console.log(err)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const quotesActions = quoteSlice.actions\r\n\r\nexport default store\r\n"]},"metadata":{},"sourceType":"module"}